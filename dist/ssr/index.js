var M=Object.defineProperty;var v=(e,t)=>()=>(e&&(t=e(e=0)),t);var O=(e,t)=>{for(var r in t)M(e,r,{get:t[r],enumerable:!0})};var a,w,R,P,E,y,T,u=v(()=>{a=e=>e,w=a,R=a,P=a,E=a,y=a,T=a});var _={};O(_,{default:()=>J});var J,k=v(()=>{"use strict";u();J=w(({app:e,resolve:t,render:r,serve:o})=>{e.get(t.urlPath("*"),(i,s)=>{s.setHeader("Content-Type","text/html"),r({req:i,res:s}).then(n=>{s.send(n)}).catch(n=>{n.url?n.code?s.redirect(n.code,n.url):s.redirect(n.url):n.code===404?s.status(404).send("404 | Page Not Found"):s.status(500).send("500 | Internal Server Error")})})})});import{join as d,basename as V,isAbsolute as z}from"node:path";import{readFileSync as Q}from"node:fs";import{fileURLToPath as K}from"node:url";import{renderToString as W}from"vue/server-renderer";import X from"serialize-javascript";import Y from"./render-template.js";import Z from"./server/server-entry.js";u();import $ from"express";import D from"compression";var b=R(()=>{let e=$();return e.disable("x-powered-by"),e.use(D()),e}),j=P(({app:e,devHttpsApp:t,port:r})=>(t||e).listen(r,()=>{console.log("Server listening at port "+r)})),me=E(({listenResult:e})=>e.close()),I=1e3*60*60*24*30,x=y(({app:e,resolve:t})=>({urlPath:r="/",pathToServe:o=".",opts:i={}})=>{let s=$.static(t.public(o),{maxAge:I,...i});e.use(t.urlPath(r),s)}),N=/\.js$/,q=/\.css$/,A=/\.woff$/,U=/\.woff2$/,G=/\.gif$/,B=/\.jpe?g$/,H=/\.png$/,m=T(e=>N.test(e)===!0?`<link rel="modulepreload" href="${e}" crossorigin>`:q.test(e)===!0?`<link rel="stylesheet" href="${e}" crossorigin>`:A.test(e)===!0?`<link rel="preload" href="${e}" as="font" type="font/woff" crossorigin>`:U.test(e)===!0?`<link rel="preload" href="${e}" as="font" type="font/woff2" crossorigin>`:G.test(e)===!0?`<link rel="preload" href="${e}" as="image" type="image/gif" crossorigin>`:B.test(e)===!0?`<link rel="preload" href="${e}" as="image" type="image/jpeg" crossorigin>`:H.test(e)===!0?`<link rel="preload" href="${e}" as="image" type="image/png" crossorigin>`:"");function g(e){return Promise.all([Promise.resolve().then(()=>(k(),_))]).then(async t=>{let r=t.map(o=>o.default);for(let o=0;o<r.length;o++)try{await r[o](e)}catch(i){console.error("[Quasar SSR] middleware error:",i);return}})}var C=process.env.PORT||3e3,ee=/\/\//g,p="/",re=p==="/"?e=>e||"/":e=>e?(p+e).replace(ee,"/"):p,f=K(new URL(".",import.meta.url)),F=d(f,"client"),h=JSON.parse(Q(d(f,"./quasar.manifest.json"),"utf-8"));function te(){let e=d(...arguments);return z(e)===!0?e:d(F,e)}function oe(e,t){let r="",o=new Set;return e.forEach(i=>{let s=h[i];s!==void 0&&s.forEach(n=>{if(o.has(n)===!0)return;o.add(n);let S=V(n);if(h[S]!==void 0)for(let l of h[S])o.has(l)===!1&&(r+=m(l,t),o.add(l));r+=m(n,t)})}),r}var ne="document.currentScript.remove()";function se(e){let t=e.nonce!==void 0?' nonce="'+e.nonce+'"':"",r=X(e.state,{isJSON:!0});return"<script"+t+">window.__INITIAL_STATE__="+r+";"+ne+"</script>"}async function ie(e){let t=[];Object.assign(e,{_meta:{},onRendered:r=>{t.push(r)}});try{let r=await Z(e),o=await W(r,e);return t.forEach(i=>{i()}),typeof e.rendered=="function"&&e.rendered(),e._meta.runtimePageContent=o,e.state!==void 0&&(e._meta.headTags=se(e)+e._meta.headTags),e._meta.endingHeadTags+=oe(e.modules,{ssrContext:e}),Y(e)}catch(r){throw r}}var c={port:C,resolve:{urlPath:re,root(){return d(f,...arguments)},public:te},publicPath:p,folders:{root:f,public:F},render:ie},ae=await b(c);c.app=ae;var L=await x(c);c.serve={static:L};await L({urlPath:"/",pathToServe:"."});await g(c);var ce=await j(c),je=ce?.handler;export{ae as app,je as handler,ce as listenResult};
